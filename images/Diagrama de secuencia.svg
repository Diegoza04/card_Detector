<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1858px" preserveAspectRatio="none" style="width:1179px;height:1858px;background:#FFFFFF;" version="1.1" viewBox="0 0 1179 1858" width="1179px" zoomAndPan="magnify"><title>Sequence Diagram: Card Classification</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="306.2158" x="437.5449" y="27.9951">Sequence Diagram: Card Classification</text><rect fill="none" height="1508.75" style="stroke:#000000;stroke-width:1.5;" width="1162.3057" x="10" y="252.125"/><rect fill="none" height="1044.3438" style="stroke:#000000;stroke-width:1.5;" width="955.77" x="189.4111" y="622.1328"/><rect fill="none" height="404.4844" style="stroke:#000000;stroke-width:1.5;" width="310.8794" x="606.7329" y="747.7969"/><rect fill="none" height="131.3359" style="stroke:#000000;stroke-width:1.5;" width="271.5234" x="863.6577" y="1499.0078"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1659.2813" width="8" x="34.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="118.5938" y2="1777.875"/></g><g><title>CardPipeline</title><rect fill="#000000" fill-opacity="0.00000" height="1659.2813" width="8" x="246.4585" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="250.4111" x2="250.4111" y1="118.5938" y2="1777.875"/></g><g><title>Preprocessor</title><rect fill="#000000" fill-opacity="0.00000" height="1659.2813" width="8" x="465.1094" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="468.4897" x2="468.4897" y1="118.5938" y2="1777.875"/></g><g><title>Contour</title><rect fill="#000000" fill-opacity="0.00000" height="1659.2813" width="8" x="565.231" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="568.729" x2="568.729" y1="118.5938" y2="1777.875"/></g><g><title>Rank</title><rect fill="#000000" fill-opacity="0.00000" height="1659.2813" width="8" x="651.6875" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="654.7329" x2="654.7329" y1="118.5938" y2="1777.875"/></g><g><title>Suit</title><rect fill="#000000" fill-opacity="0.00000" height="1659.2813" width="8" x="908.6123" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="911.6577" x2="911.6577" y1="118.5938" y2="1777.875"/></g><g><title>Label</title><rect fill="#000000" fill-opacity="0.00000" height="1659.2813" width="8" x="1115.7588" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1119.2119" x2="1119.2119" y1="118.5938" y2="1777.875"/></g><g class="participant participant-head" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="115.292">User</text><ellipse cx="38.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,58.7969 L38.9551,85.7969 M25.9551,66.7969 L51.9551,66.7969 M38.9551,85.7969 L25.9551,100.7969 M38.9551,85.7969 L51.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1789.8701">User</text><ellipse cx="38.9551" cy="1801.6719" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1809.6719 L38.9551,1836.6719 M25.9551,1817.6719 L51.9551,1817.6719 M38.9551,1836.6719 L25.9551,1851.6719 M38.9551,1836.6719 L51.9551,1851.6719" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="P"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.0947" x="199.4111" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.0947" x="206.4111" y="107.292">CardPipeline</text></g><g class="participant participant-tail" data-participant="P"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.0947" x="199.4111" y="1776.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.0947" x="206.4111" y="1796.8701">CardPipeline</text></g><g class="participant participant-head" data-participant="Pre"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.2393" x="416.4897" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.2393" x="423.4897" y="107.292">Preprocessor</text></g><g class="participant participant-tail" data-participant="Pre"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.2393" x="416.4897" y="1776.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.2393" x="423.4897" y="1796.8701">Preprocessor</text></g><g class="participant participant-head" data-participant="CD"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.0039" x="531.729" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.8975" x="541.2822" y="90.9951">Contour</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0039" x="538.729" y="107.292">Detector</text></g><g class="participant participant-tail" data-participant="CD"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.0039" x="531.729" y="1776.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.8975" x="541.2822" y="1796.8701">Contour</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0039" x="538.729" y="1813.167">Detector</text></g><g class="participant participant-head" data-participant="RC"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.9092" x="616.7329" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.2871" x="638.0439" y="90.9951">Rank</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.9092" x="623.7329" y="107.292">Classifier</text></g><g class="participant participant-tail" data-participant="RC"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.9092" x="616.7329" y="1776.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.2871" x="638.0439" y="1796.8701">Rank</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.9092" x="623.7329" y="1813.167">Classifier</text></g><g class="participant participant-head" data-participant="SC"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.9092" x="873.6577" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.1387" x="899.043" y="90.9951">Suit</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.9092" x="880.6577" y="107.292">Classifier</text></g><g class="participant participant-tail" data-participant="SC"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.9092" x="873.6577" y="1776.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.1387" x="899.043" y="1796.8701">Suit</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.9092" x="880.6577" y="1813.167">Classifier</text></g><g class="participant participant-head" data-participant="LC"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.0938" x="1077.2119" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.7686" x="1100.8745" y="90.9951">Label</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.0938" x="1084.2119" y="107.292">Composer</text></g><g class="participant participant-tail" data-participant="LC"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.0938" x="1077.2119" y="1776.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.7686" x="1100.8745" y="1796.8701">Label</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.0938" x="1084.2119" y="1813.167">Composer</text></g><g class="message" data-participant-1="U" data-participant-2="P"><polygon fill="#181818" points="238.4585,145.7266,248.4585,149.7266,238.4585,153.7266,242.4585,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="244.4585" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.5034" x="45.9551" y="144.6606">Provide image (file or frame)</text></g><g class="message" data-participant-1="P" data-participant-2="Pre"><polygon fill="#181818" points="457.1094,174.8594,467.1094,178.8594,457.1094,182.8594,461.1094,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="463.1094" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.6411" x="257.4585" y="173.7935">loadImage()</text></g><g class="message" data-participant-1="Pre" data-participant-2="P"><polygon fill="#181818" points="261.4585,203.9922,251.4585,207.9922,261.4585,211.9922,257.4585,207.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="468.1094" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.4482" x="267.4585" y="202.9263">grayscale + Otsu result</text></g><g class="message" data-participant-1="P" data-participant-2="CD"><polygon fill="#181818" points="557.231,233.125,567.231,237.125,557.231,241.125,561.231,237.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="563.231" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.2783" x="257.4585" y="232.0591">detectCardContour()</text></g><path d="M10,252.125 L74.4429,252.125 L74.4429,259.2578 L64.4429,269.2578 L10,269.2578 L10,252.125" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1508.75" style="stroke:#000000;stroke-width:1.5;" width="1162.3057" x="10" y="252.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="265.1919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107.438" x="89.4429" y="264.3354">[No valid contour</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188.9658" x="89.4429" y="277.1401">(not 4 vertices or area &lt; min)]</text><g class="message" data-participant-1="CD" data-participant-2="P"><polygon fill="#181818" points="261.4585,297,251.4585,301,261.4585,305,257.4585,301" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="568.231" y1="301" y2="301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.0938" x="267.4585" y="295.9341">invalid contour</text></g><g class="message" data-participant-1="P" data-participant-2="U"><polygon fill="#181818" points="49.9551,326.1328,39.9551,330.1328,49.9551,334.1328,45.9551,330.1328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="43.9551" x2="249.4585" y1="330.1328" y2="330.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9287" x="55.9551" y="325.0669">Discard image / Stop</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1172.3057" y1="339.1328" y2="339.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="93.2153" x="15" y="349.3433">[Valid contour]</text><g class="message" data-participant-1="CD" data-participant-2="P"><polygon fill="#181818" points="261.4585,370.0703,251.4585,374.0703,261.4585,378.0703,257.4585,374.0703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="568.231" y1="374.0703" y2="374.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.8647" x="267.4585" y="369.0044">contour OK</text></g><g class="message" data-participant-1="P" data-participant-2="Pre"><polygon fill="#181818" points="457.1094,399.2031,467.1094,403.2031,457.1094,407.2031,461.1094,403.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="463.1094" y1="403.2031" y2="403.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.6567" x="257.4585" y="398.1372">warpPerspectiveToVertical()</text></g><g class="message" data-participant-1="Pre" data-participant-2="P"><polygon fill="#181818" points="261.4585,428.3359,251.4585,432.3359,261.4585,436.3359,257.4585,432.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="468.1094" y1="432.3359" y2="432.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.2881" x="267.4585" y="427.27">warped card</text></g><g class="message" data-participant-1="P" data-participant-2="Pre"><polygon fill="#181818" points="457.1094,457.4688,467.1094,461.4688,457.1094,465.4688,461.1094,461.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="463.1094" y1="461.4688" y2="461.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6479" x="257.4585" y="456.4028">extractTopLeftROI()</text></g><g class="message" data-participant-1="Pre" data-participant-2="P"><polygon fill="#181818" points="261.4585,486.6016,251.4585,490.6016,261.4585,494.6016,257.4585,490.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="468.1094" y1="490.6016" y2="490.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.4028" x="267.4585" y="485.5356">ROI (corner)</text></g><g class="message" data-participant-1="P" data-participant-2="Pre"><polygon fill="#181818" points="457.1094,515.7344,467.1094,519.7344,457.1094,523.7344,461.1094,519.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="463.1094" y1="519.7344" y2="519.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.6509" x="257.4585" y="514.6685">multiThreshold + morphology</text></g><g class="message" data-participant-1="Pre" data-participant-2="P"><polygon fill="#181818" points="261.4585,544.8672,251.4585,548.8672,261.4585,552.8672,257.4585,548.8672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="468.1094" y1="548.8672" y2="548.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.7231" x="267.4585" y="543.8013">processed ROI</text></g><g class="message" data-participant-1="P" data-participant-2="Pre"><polygon fill="#181818" points="457.1094,574,467.1094,578,457.1094,582,461.1094,578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="463.1094" y1="578" y2="578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.0713" x="257.4585" y="572.9341">findROIBands()</text></g><g class="message" data-participant-1="Pre" data-participant-2="P"><polygon fill="#181818" points="261.4585,603.1328,251.4585,607.1328,261.4585,611.1328,257.4585,607.1328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="468.1094" y1="607.1328" y2="607.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.2627" x="267.4585" y="602.0669">rankROI, suitROI</text></g><path d="M189.4111,622.1328 L258.9004,622.1328 L258.9004,629.2656 L248.9004,639.2656 L189.4111,639.2656 L189.4111,622.1328" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1044.3438" style="stroke:#000000;stroke-width:1.5;" width="955.77" x="189.4111" y="622.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4893" x="204.4111" y="635.1997">par</text><g class="message" data-participant-1="P" data-participant-2="RC"><polygon fill="#181818" points="643.6875,656.3984,653.6875,660.3984,643.6875,664.3984,647.6875,660.3984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="649.6875" y1="660.3984" y2="660.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.2412" x="257.4585" y="655.3325">classifyRank(rankROI)</text></g><g class="message" data-participant-1="RC" data-participant-2="RC"><line style="stroke:#181818;stroke-width:1;" x1="655.6875" x2="697.6875" y1="719.7969" y2="719.7969"/><line style="stroke:#181818;stroke-width:1;" x1="697.6875" x2="697.6875" y1="719.7969" y2="732.7969"/><line style="stroke:#181818;stroke-width:1;" x1="656.6875" x2="697.6875" y1="732.7969" y2="732.7969"/><polygon fill="#181818" points="666.6875,728.7969,656.6875,732.7969,666.6875,736.7969,662.6875,732.7969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0693" x="662.6875" y="684.4653">multiscale matching</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.6611" x="662.6875" y="699.5981">corr, edges, chamfer,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.542" x="662.6875" y="714.731">cosine, SSIM</text></g><path d="M606.7329,747.7969 L671.1758,747.7969 L671.1758,754.9297 L661.1758,764.9297 L606.7329,764.9297 L606.7329,747.7969" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="404.4844" style="stroke:#000000;stroke-width:1.5;" width="310.8794" x="606.7329" y="747.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="621.7329" y="760.8638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108.8936" x="686.1758" y="760.0073">[10 as two digits]</text><g class="message" data-participant-1="RC" data-participant-2="RC"><line style="stroke:#181818;stroke-width:1;" x1="655.6875" x2="697.6875" y1="801.1953" y2="801.1953"/><line style="stroke:#181818;stroke-width:1;" x1="697.6875" x2="697.6875" y1="801.1953" y2="814.1953"/><line style="stroke:#181818;stroke-width:1;" x1="656.6875" x2="697.6875" y1="814.1953" y2="814.1953"/><polygon fill="#181818" points="666.6875,810.1953,656.6875,814.1953,666.6875,818.1953,662.6875,814.1953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.4355" x="662.6875" y="780.9966">detect components 1 and 0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242.9248" x="662.6875" y="796.1294">match separately and combine -&gt; 10</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="606.7329" x2="917.6123" y1="823.1953" y2="823.1953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="46.7393" x="611.7329" y="833.4058">[8 vs 5]</text><g class="message" data-participant-1="RC" data-participant-2="RC"><line style="stroke:#181818;stroke-width:1;" x1="655.6875" x2="697.6875" y1="858.1328" y2="858.1328"/><line style="stroke:#181818;stroke-width:1;" x1="697.6875" x2="697.6875" y1="858.1328" y2="871.1328"/><line style="stroke:#181818;stroke-width:1;" x1="656.6875" x2="697.6875" y1="871.1328" y2="871.1328"/><polygon fill="#181818" points="666.6875,867.1328,656.6875,871.1328,666.6875,875.1328,662.6875,871.1328" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.334" x="662.6875" y="853.0669">check inner holes</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="606.7329" x2="917.6123" y1="880.1328" y2="880.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="54.3931" x="611.7329" y="890.3433">[10 vs 6]</text><g class="message" data-participant-1="RC" data-participant-2="RC"><line style="stroke:#181818;stroke-width:1;" x1="655.6875" x2="697.6875" y1="930.2031" y2="930.2031"/><line style="stroke:#181818;stroke-width:1;" x1="697.6875" x2="697.6875" y1="930.2031" y2="943.2031"/><line style="stroke:#181818;stroke-width:1;" x1="656.6875" x2="697.6875" y1="943.2031" y2="943.2031"/><polygon fill="#181818" points="666.6875,939.2031,656.6875,943.2031,666.6875,947.2031,662.6875,943.2031" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.1831" x="662.6875" y="910.0044">horizontal projection</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6992" x="662.6875" y="925.1372">valleys / transitions</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="606.7329" x2="917.6123" y1="952.2031" y2="952.2031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="75.0342" x="611.7329" y="962.4136">[3 vs 6 or 8]</text><g class="message" data-participant-1="RC" data-participant-2="RC"><line style="stroke:#181818;stroke-width:1;" x1="655.6875" x2="697.6875" y1="1002.2734" y2="1002.2734"/><line style="stroke:#181818;stroke-width:1;" x1="697.6875" x2="697.6875" y1="1002.2734" y2="1015.2734"/><line style="stroke:#181818;stroke-width:1;" x1="656.6875" x2="697.6875" y1="1015.2734" y2="1015.2734"/><polygon fill="#181818" points="666.6875,1011.2734,656.6875,1015.2734,666.6875,1019.2734,662.6875,1015.2734" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.5728" x="662.6875" y="982.0747">quadrant distribution</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.606" x="662.6875" y="997.2075">right-side bias</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="606.7329" x2="917.6123" y1="1024.2734" y2="1024.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="99.7681" x="611.7329" y="1034.4839">[2 vs 3 or 7 or J]</text><g class="message" data-participant-1="RC" data-participant-2="RC"><line style="stroke:#181818;stroke-width:1;" x1="655.6875" x2="697.6875" y1="1074.3438" y2="1074.3438"/><line style="stroke:#181818;stroke-width:1;" x1="697.6875" x2="697.6875" y1="1074.3438" y2="1087.3438"/><line style="stroke:#181818;stroke-width:1;" x1="656.6875" x2="697.6875" y1="1087.3438" y2="1087.3438"/><polygon fill="#181818" points="666.6875,1083.3438,656.6875,1087.3438,666.6875,1091.3438,662.6875,1087.3438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4663" x="662.6875" y="1054.145">no inner holes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.0132" x="662.6875" y="1069.2778">+ bottom-right bias</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="606.7329" x2="917.6123" y1="1096.3438" y2="1096.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76.6616" x="611.7329" y="1106.5542">[No conflict]</text><g class="message" data-participant-1="RC" data-participant-2="RC"><line style="stroke:#181818;stroke-width:1;" x1="655.6875" x2="697.6875" y1="1131.2813" y2="1131.2813"/><line style="stroke:#181818;stroke-width:1;" x1="697.6875" x2="697.6875" y1="1131.2813" y2="1144.2813"/><line style="stroke:#181818;stroke-width:1;" x1="656.6875" x2="697.6875" y1="1144.2813" y2="1144.2813"/><polygon fill="#181818" points="666.6875,1140.2813,656.6875,1144.2813,666.6875,1148.2813,662.6875,1144.2813" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.21" x="662.6875" y="1126.2153">accept best score</text></g><g class="message" data-participant-1="RC" data-participant-2="P"><polygon fill="#181818" points="261.4585,1176.4141,251.4585,1180.4141,261.4585,1184.4141,257.4585,1180.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="654.6875" y1="1180.4141" y2="1180.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.8057" x="267.4585" y="1175.3481">Final Rank</text></g><g class="message" data-participant-1="P" data-participant-2="SC"><polygon fill="#181818" points="900.6123,1205.5469,910.6123,1209.5469,900.6123,1213.5469,904.6123,1209.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="906.6123" y1="1209.5469" y2="1209.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.3174" x="257.4585" y="1204.481">classifySuit(suitROI)</text></g><g class="message" data-participant-1="SC" data-participant-2="SC"><line style="stroke:#181818;stroke-width:1;" x1="912.6123" x2="954.6123" y1="1238.6797" y2="1238.6797"/><line style="stroke:#181818;stroke-width:1;" x1="954.6123" x2="954.6123" y1="1238.6797" y2="1251.6797"/><line style="stroke:#181818;stroke-width:1;" x1="913.6123" x2="954.6123" y1="1251.6797" y2="1251.6797"/><polygon fill="#181818" points="923.6123,1247.6797,913.6123,1251.6797,923.6123,1255.6797,919.6123,1251.6797" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.0332" x="919.6123" y="1233.6138">template matching</text></g><g class="message" data-participant-1="SC" data-participant-2="SC"><line style="stroke:#181818;stroke-width:1;" x1="912.6123" x2="954.6123" y1="1311.0781" y2="1311.0781"/><line style="stroke:#181818;stroke-width:1;" x1="954.6123" x2="954.6123" y1="1311.0781" y2="1324.0781"/><line style="stroke:#181818;stroke-width:1;" x1="913.6123" x2="954.6123" y1="1324.0781" y2="1324.0781"/><polygon fill="#181818" points="923.6123,1320.0781,913.6123,1324.0781,923.6123,1328.0781,919.6123,1324.0781" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.7783" x="919.6123" y="1275.7466">color analysis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.9556" x="919.6123" y="1290.8794">HSV / LAB / YCrCb</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4126" x="919.6123" y="1306.0122">+ red fallback</text></g><g class="message" data-participant-1="SC" data-participant-2="SC"><line style="stroke:#181818;stroke-width:1;" x1="912.6123" x2="954.6123" y1="1398.6094" y2="1398.6094"/><line style="stroke:#181818;stroke-width:1;" x1="954.6123" x2="954.6123" y1="1398.6094" y2="1411.6094"/><line style="stroke:#181818;stroke-width:1;" x1="913.6123" x2="954.6123" y1="1411.6094" y2="1411.6094"/><polygon fill="#181818" points="923.6123,1407.6094,913.6123,1411.6094,923.6123,1415.6094,919.6123,1411.6094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.9966" x="919.6123" y="1348.145">shape metrics</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.8174" x="919.6123" y="1363.2778">circularity, solidity,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.4722" x="919.6123" y="1378.4106">aspect ratio,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.1021" x="919.6123" y="1393.5435">convexity defects</text></g><g class="message" data-participant-1="SC" data-participant-2="SC"><line style="stroke:#181818;stroke-width:1;" x1="912.6123" x2="954.6123" y1="1471.0078" y2="1471.0078"/><line style="stroke:#181818;stroke-width:1;" x1="954.6123" x2="954.6123" y1="1471.0078" y2="1484.0078"/><line style="stroke:#181818;stroke-width:1;" x1="913.6123" x2="954.6123" y1="1484.0078" y2="1484.0078"/><polygon fill="#181818" points="923.6123,1480.0078,913.6123,1484.0078,923.6123,1488.0078,919.6123,1484.0078" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6558" x="919.6123" y="1435.6763">suit-specific features</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.2866" x="919.6123" y="1450.8091">hearts / diamonds /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.6821" x="919.6123" y="1465.9419">clubs / spades</text></g><path d="M863.6577,1499.0078 L928.1006,1499.0078 L928.1006,1506.1406 L918.1006,1516.1406 L863.6577,1516.1406 L863.6577,1499.0078" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="131.3359" style="stroke:#000000;stroke-width:1.5;" width="271.5234" x="863.6577" y="1499.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="878.6577" y="1512.0747">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187.0806" x="943.1006" y="1511.2183">[Heuristics / overrides strong]</text><g class="message" data-participant-1="SC" data-participant-2="SC"><line style="stroke:#181818;stroke-width:1;" x1="912.6123" x2="954.6123" y1="1552.4063" y2="1552.4063"/><line style="stroke:#181818;stroke-width:1;" x1="954.6123" x2="954.6123" y1="1552.4063" y2="1565.4063"/><line style="stroke:#181818;stroke-width:1;" x1="913.6123" x2="954.6123" y1="1565.4063" y2="1565.4063"/><polygon fill="#181818" points="923.6123,1561.4063,913.6123,1565.4063,923.6123,1569.4063,919.6123,1565.4063" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.0874" x="919.6123" y="1532.2075">adjust by evidence</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.1465" x="919.6123" y="1547.3403">(template + features + color)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="863.6577" x2="1135.1812" y1="1574.4063" y2="1574.4063"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76.3984" x="868.6577" y="1584.6167">[Not strong]</text><g class="message" data-participant-1="SC" data-participant-2="SC"><line style="stroke:#181818;stroke-width:1;" x1="912.6123" x2="954.6123" y1="1609.3438" y2="1609.3438"/><line style="stroke:#181818;stroke-width:1;" x1="954.6123" x2="954.6123" y1="1609.3438" y2="1622.3438"/><line style="stroke:#181818;stroke-width:1;" x1="913.6123" x2="954.6123" y1="1622.3438" y2="1622.3438"/><polygon fill="#181818" points="923.6123,1618.3438,913.6123,1622.3438,923.6123,1626.3438,919.6123,1622.3438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.21" x="919.6123" y="1604.2778">accept best score</text></g><g class="message" data-participant-1="SC" data-participant-2="P"><polygon fill="#181818" points="261.4585,1654.4766,251.4585,1658.4766,261.4585,1662.4766,257.4585,1658.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="911.6123" y1="1658.4766" y2="1658.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60.2393" x="267.4585" y="1653.4106">Final Suit</text></g><g class="message" data-participant-1="P" data-participant-2="LC"><polygon fill="#181818" points="1107.7588,1690.6094,1117.7588,1694.6094,1107.7588,1698.6094,1111.7588,1694.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="250.4585" x2="1113.7588" y1="1694.6094" y2="1694.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.02" x="257.4585" y="1689.5435">composeLabel(rank, suit)</text></g><g class="message" data-participant-1="LC" data-participant-2="P"><polygon fill="#181818" points="261.4585,1719.7422,251.4585,1723.7422,261.4585,1727.7422,257.4585,1723.7422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="255.4585" x2="1118.7588" y1="1723.7422" y2="1723.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.293" x="267.4585" y="1718.6763">label "Rank of Suit"</text></g><g class="message" data-participant-1="P" data-participant-2="U"><polygon fill="#181818" points="49.9551,1748.875,39.9551,1752.875,49.9551,1756.875,45.9551,1752.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="43.9551" x2="249.4585" y1="1752.875" y2="1752.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.6616" x="55.9551" y="1747.8091">Return final label</text></g><!--SRC=[ZLPHRzis47xNhpZaPGuIeycwTOMn3KYK3addDOQL11ZW5vewsMmaKYKfjzwlxqVAKI8vtgO7MI2_- -vuzztHNlcIAUCl3Ml9TAN4oefgGgcmEQMbS4uLIWglZ4uI8RsnTE_Oad1qdzJ2UYLLBRIdes0nKpMNIlDHs9_rzsUMQsiaEsTikszvm62qDurTw2ls75n5M7hLHys5Vbpefz2u1StJFYXhbDy3PGFGL2ov1CfKjN4xp3HDadiQ_qwp2G8q6vKpgKgic4Q5GgPm_W89ukDa5b6M9rGQaTy4p0YhbcdScYEHMoS5Z4xerhk6BBkcz4bhcLvDA8_d38dR7Hq4elJqoT16b2ed-PIHaJQUVg8DX_3PXJ24PK6_KgNqSK9uqgidnqhthEDkz7a_GO4H4ahRdkaDPTxK2PUEwM7FvfbnjqgtVoRFRF7iNuMjPsnTZOEe3T-PXnYYA4TjL2_o4Q0C3t0_PE5lta9STwQUSk7djpVxrbYaaJHMipqUcbT8gxfR8xzhK-P8TsLiZK-psWvfTX94720SyXHAvrY-53ft-n5O20-xf-GWhixw1_fj-D3iOdundNwOqkNyubDw_I7RnqHRg37-jZpZtKD1uRI4Exdk5ZjSZ7QUeYQjkBS1FTh5Tjp1vkaJBYQdrM4bl5mhlLfe9DAU4kShTgSarw8gs9w6POVkFQKik_ahwRY29C_FGdVuhuPojLBUTPjzPwsYeHUqb6Rj7PqJiabd2nsTasCSMdWkjt4Tm2Ky1lFpiuupwl4zRHpzVC2FNBDyXD2X1aAXsVLj4IsCtnqmNXkh_e6YHHday3aer-X5Q9gIjmvD0J5gfyBgWFTjf0tTz_u0zvT6v3PCbrmvRzMoQRcjMgtzs8LfibHYmFfZO7qRM7y9huy7gBLvUU25Fg6byTvKuqZ-2Y_621gtA9Nq1oY5b5p3b9qd1qtmCu7EavwOsXxuGsbaBKZkDU66gVllmirU23UWHxjUUXPkbZxXF5Tr2Qbqidq58z7a68K8QkiKSdATFQ1-qujBlFzERReCQRBezWB5NGhv-0g7MuiQJXZbag2Goigc55RvBLhTO2Y6huKMSSPX2g2YiLNqXhzX2veliE5UOyRXni4itA5KiF2D3PLRCwwX8BHSYSfWsD0R49RDCgovMkJGSw_xhhcnq1FY0y3W5h1GaYCepBn8Iz-vo3ytAEjoInnkCTpkk4Qwd9vquU0pPl5uA1x_7_p_JplPG3kXwaaF5OKnZSMC5t6ybkD4QqTj6zYquod3Vli_W4mH2O-ItYKtPvnCXt4EXn6UmDjt]--></g></svg>